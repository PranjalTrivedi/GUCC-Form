<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration Form</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="wrapper">
    <h2>Registration</h2>
    <form id="registrationForm" name="registrationForm">
      <!-- Personal Information -->
      <h3>Personal Information</h3>
      <div class="input-box">
        <input type="text" name="firstName" placeholder="First Name" required>
      </div>
      <div class="input-box">
        <input type="text" name="lastName" placeholder="Last Name" required>
      </div>
      <div class="input-box">
        <select name="gender" required>
          <option value="" disabled selected>Select Gender</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
          <option value="other">Other</option>
        </select>
      </div>
      <div class="input-box">
        <input type="date" name="dateOfBirth" required>
      </div>

      <!-- Contact Details -->
      <h3>Contact Details</h3>
      <div class="input-box">
        <input type="email" name="emailAddress" placeholder="Email Address" required>
      </div>
      <div class="input-box">
        <select name="countryCode" required>
          <option value="" disabled selected>Select Country Code</option>
          <option value="+1">+1 (Canada)</option>
          <option value="+1">+1 (USA)</option>
        </select>
      </div>
      <div class="input-box">
        <input type="tel" name="phoneNumber" placeholder="Phone Number" required>
      </div>
      <div class="input-box">
        <select id="province" name="province" required onchange="updateCities()">
          <option value="" disabled selected>Select Province</option>
          <option value="ON">Ontario</option>
          <option value="BC">British Columbia</option>
          <option value="QC">Quebec</option>
        </select>
      </div>
      <div class="input-box">
        <select id="city" name="city" required>
          <option value="" disabled selected>Select City</option>
        </select>
      </div>

      <!-- Origin Section -->
      <h3>Origin Section</h3>
      <div class="input-box">
        <select name="countryOfOrigin" required>
          <option value="" disabled selected>Select Country of Origin</option>
          <option value="Canada">Canada</option>
          <option value="USA">USA</option>
        </select>
      </div>
      <div class="input-box">
        <input type="text" name="state" placeholder="State" required>
      </div>
      <div class="input-box">
        <input type="text" name="cityOfOrigin" placeholder="City" required>
      </div>

      <!-- Member Type -->
      <h3>Member Type</h3>
      <div class="input-box">
        <select name="memberType" required>
          <option value="" disabled selected>Are you a:</option>
          <option value="student">Student</option>
          <option value="professional">Professional</option>
          <option value="business_owner">Business Owner</option>
        </select>
      </div>

      <!-- Consent -->
      <h3>Consent & Membership Confirmation</h3>
      <div class="policy">
        <input type="checkbox" name="consent" required>
        <h3>I agree to receive updates and communication from GUCC regarding events, promotions, and community initiatives.</h3>
      </div>

      <div class="input-box button">
        <input type="submit" value="Register Now">
      </div>
      <div class="text">
        <h3>Already have an account? <a href="#">Login now</a></h3>
      </div>
    </form>
  </div>

  <script>
    const provinceCities = {
      'ON': ['Toronto', 'Ottawa', 'Mississauga'],
      'BC': ['Vancouver', 'Victoria', 'Kelowna'],
      'QC': ['Montreal', 'Quebec City', 'Laval']
    };

    function updateCities() {
      const provinceSelect = document.getElementById('province');
      const citySelect = document.getElementById('city');
      const selectedProvince = provinceSelect.value;

      citySelect.innerHTML = '<option value="" disabled selected>Select City</option>';

      if (selectedProvince && provinceCities[selectedProvince]) {
        provinceCities[selectedProvince].forEach(city => {
          const option = document.createElement('option');
          option.value = city;
          option.textContent = city;
          citySelect.appendChild(option);
        });
      }
    }

    document.getElementById('registrationForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const form = e.target;
      const scriptURL = "https://script.google.com/macros/s/AKfycbzX6fcgWXfS3tJ5VMJR3bC0aiGOWuqFtGd1e6mH1OgFxv87AhPKrSYyko_N3XkeGZ92/exec";

      try {
        const response = await fetch(scriptURL, {
          method: 'POST',
          body: new FormData(form)
        });
        const result = await response.json();

        if (result.result === 'success') {
          alert('Form submitted successfully!');
          form.reset();
        } else {
          alert('Error submitting form: ' + result.error);
        }
      } catch (error) {
        alert('Error: ' + error.message);
      }
    });
  </script>
</body>
</html>
